
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Enola AI Python modules.">
      
      
      
      
        <link rel="prev" href="../tracking/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Tracking Batch - Enola AI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tracking-batch" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Enola AI Documentation" class="md-header__button md-logo" aria-label="Enola AI Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Enola AI Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tracking Batch
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Enola AI Documentation" class="md-nav__button md-logo" aria-label="Enola AI Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Enola AI Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core Modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Core Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enola_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enola Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Execution Management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Execution Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../get_executions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get Executions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tracking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Tracking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Tracking Batch
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Tracking Batch
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enola.tracking_batch" class="md-nav__link">
    <span class="md-ellipsis">
      tracking_batch
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch" class="md-nav__link">
    <span class="md-ellipsis">
      TrackingBatch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TrackingBatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_custom_info" class="md-nav__link">
    <span class="md-ellipsis">
      add_custom_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_data_received" class="md-nav__link">
    <span class="md-ellipsis">
      add_data_received
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_data_send" class="md-nav__link">
    <span class="md-ellipsis">
      add_data_send
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_error" class="md-nav__link">
    <span class="md-ellipsis">
      add_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_extra_info" class="md-nav__link">
    <span class="md-ellipsis">
      add_extra_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_tag" class="md-nav__link">
    <span class="md-ellipsis">
      add_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_warning" class="md-nav__link">
    <span class="md-ellipsis">
      add_warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.execute" class="md-nav__link">
    <span class="md-ellipsis">
      execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enola.tracking_batch" class="md-nav__link">
    <span class="md-ellipsis">
      tracking_batch
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch" class="md-nav__link">
    <span class="md-ellipsis">
      TrackingBatch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TrackingBatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_custom_info" class="md-nav__link">
    <span class="md-ellipsis">
      add_custom_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_data_received" class="md-nav__link">
    <span class="md-ellipsis">
      add_data_received
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_data_send" class="md-nav__link">
    <span class="md-ellipsis">
      add_data_send
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_error" class="md-nav__link">
    <span class="md-ellipsis">
      add_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_extra_info" class="md-nav__link">
    <span class="md-ellipsis">
      add_extra_info
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_tag" class="md-nav__link">
    <span class="md-ellipsis">
      add_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.add_warning" class="md-nav__link">
    <span class="md-ellipsis">
      add_warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enola.tracking_batch.TrackingBatch.execute" class="md-nav__link">
    <span class="md-ellipsis">
      execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="tracking-batch">Tracking Batch</h1>


<div class="doc doc-object doc-module">



<a id="enola.tracking_batch"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="enola.tracking_batch.TrackingBatch" class="doc doc-heading">
            <code>TrackingBatch</code>


</h2>


    <div class="doc doc-contents ">


        <p>The <code>TrackingBatch</code> class is used to perform batch tracking execution in Enola.</p>
<p>This class allows you to send batch tracking data to the Enola server, handling large
dataframes by sending them in batches. It manages authentication, data preparation,
and communication with the Enola API.</p>
<p>Example usage:</p>
<pre><code class="language-python">tracking_batch = TrackingBatch(
    token=&quot;your_jwt_token&quot;,
    name=&quot;BatchExecutionName&quot;,
    dataframe=df,
    period=&quot;2021-01-01T00:00:00Z&quot;,
    client_id_column_name=&quot;client_id&quot;,
    product_id_column_name=&quot;product_id&quot;,
    score_value_column_name=&quot;score_value&quot;,
    score_group_column_name=&quot;score_group&quot;,
    score_cluster_column_name=&quot;score_cluster&quot;,
    app_id=&quot;App123&quot;,
    user_id=&quot;User456&quot;,
    is_test=False
)
tracking_batch.execute()
</code></pre>

              <details class="quote">
                <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TrackingBatch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The `TrackingBatch` class is used to perform batch tracking execution in Enola.</span>

<span class="sd">    This class allows you to send batch tracking data to the Enola server, handling large</span>
<span class="sd">    dataframes by sending them in batches. It manages authentication, data preparation,</span>
<span class="sd">    and communication with the Enola API.</span>

<span class="sd">    Example usage:</span>

<span class="sd">    ```python</span>
<span class="sd">    tracking_batch = TrackingBatch(</span>
<span class="sd">        token=&quot;your_jwt_token&quot;,</span>
<span class="sd">        name=&quot;BatchExecutionName&quot;,</span>
<span class="sd">        dataframe=df,</span>
<span class="sd">        period=&quot;2021-01-01T00:00:00Z&quot;,</span>
<span class="sd">        client_id_column_name=&quot;client_id&quot;,</span>
<span class="sd">        product_id_column_name=&quot;product_id&quot;,</span>
<span class="sd">        score_value_column_name=&quot;score_value&quot;,</span>
<span class="sd">        score_group_column_name=&quot;score_group&quot;,</span>
<span class="sd">        score_cluster_column_name=&quot;score_cluster&quot;,</span>
<span class="sd">        app_id=&quot;App123&quot;,</span>
<span class="sd">        user_id=&quot;User456&quot;,</span>
<span class="sd">        is_test=False</span>
<span class="sd">    )</span>
<span class="sd">    tracking_batch.execute()</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">dataframe</span><span class="p">,</span>
        <span class="n">period</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">client_id_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">product_id_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">score_value_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">score_group_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">score_cluster_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">channel_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">channel_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">app_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">app_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ip_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">external_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">app_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">app_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">session_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">channel_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">channel_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">ip</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_test</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes a new instance of the TrackingBatch class.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (str): JWT token used to identify the agent. Request this from the Admin App.</span>
<span class="sd">            name (str): Name of this execution.</span>
<span class="sd">            dataframe: Pandas DataFrame containing the data to track.</span>
<span class="sd">            period (str): Period of this execution in ISO format (e.g., &#39;2021-01-01T00:00:00Z&#39;).</span>
<span class="sd">            client_id_column_name (str): Name of the column with client ID.</span>
<span class="sd">            product_id_column_name (str): Name of the column with product ID.</span>
<span class="sd">            score_value_column_name (str, optional): Name of the column with score value.</span>
<span class="sd">            score_group_column_name (str, optional): Name of the column with score group.</span>
<span class="sd">            score_cluster_column_name (str, optional): Name of the column with score cluster.</span>
<span class="sd">            channel_id_column_name (str, optional): Name of the column with channel ID.</span>
<span class="sd">            channel_name_column_name (str, optional): Name of the column with channel name.</span>
<span class="sd">            session_id_column_name (str, optional): Name of the column with session ID.</span>
<span class="sd">            session_name_column_name (str, optional): Name of the column with session name.</span>
<span class="sd">            user_id_column_name (str, optional): Name of the column with user ID.</span>
<span class="sd">            user_name_column_name (str, optional): Name of the column with user name.</span>
<span class="sd">            app_id_column_name (str, optional): Name of the column with app ID.</span>
<span class="sd">            app_name_column_name (str, optional): Name of the column with app name.</span>
<span class="sd">            ip_column_name (str, optional): Name of the column with IP address.</span>
<span class="sd">            external_id_column_name (str, optional): Name of the column with external ID.</span>
<span class="sd">            app_id (str, optional): ID of the app making the call.</span>
<span class="sd">            app_name (str, optional): Name of the app making the call.</span>
<span class="sd">            user_id (str, optional): ID of the external user.</span>
<span class="sd">            user_name (str, optional): Name of the external user.</span>
<span class="sd">            session_id (str, optional): ID of the user or application session.</span>
<span class="sd">            session_name (str, optional): Name of the session.</span>
<span class="sd">            channel_id (str, optional): ID of the communication channel (e.g., &#39;web&#39;, &#39;chat&#39;, &#39;whatsapp&#39;).</span>
<span class="sd">            channel_name (str, optional): Name of the communication channel.</span>
<span class="sd">            ip (str, optional): IP address of the user or application.</span>
<span class="sd">            is_test (bool, optional): True if this call is for testing purposes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hf</span> <span class="o">=</span> <span class="n">HuemulFunctions</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">dataframe</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span> <span class="o">=</span> <span class="n">client_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span> <span class="o">=</span> <span class="n">product_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span> <span class="o">=</span> <span class="n">score_value_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span> <span class="o">=</span> <span class="n">score_group_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span> <span class="o">=</span> <span class="n">score_cluster_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span> <span class="o">=</span> <span class="n">channel_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span> <span class="o">=</span> <span class="n">channel_name_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span> <span class="o">=</span> <span class="n">session_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span> <span class="o">=</span> <span class="n">session_name_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span> <span class="o">=</span> <span class="n">user_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span> <span class="o">=</span> <span class="n">user_name_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span> <span class="o">=</span> <span class="n">app_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span> <span class="o">=</span> <span class="n">app_name_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span> <span class="o">=</span> <span class="n">ip_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span> <span class="o">=</span> <span class="n">external_id_column_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">period</span> <span class="o">=</span> <span class="n">period</span>

        <span class="k">if</span> <span class="n">dataframe</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;DataFrame is empty&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataframe</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;DataFrame is empty (length is 0)&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">score_value_column_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">score_group_column_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">score_cluster_column_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;At least one of &#39;score_value_column_name&#39;, &#39;score_group_column_name&#39;, or &#39;score_cluster_column_name&#39; must be provided&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">period</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">period</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Period is empty&quot;</span><span class="p">)</span>

        <span class="c1"># Decode JWT token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span> <span class="o">=</span> <span class="n">TokenInfo</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">is_service_account</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;This token is not a service account. Only service accounts can execute tracking&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">agent_deploy_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;agentDeployId is empty.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">service_account_can_tracking</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;This service account can&#39;t execute tracking&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">agent_deploy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">agent_deploy_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="n">Connect</span><span class="p">(</span>
            <span class="n">AuthModel</span><span class="p">(</span>
                <span class="n">jwt_token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span>
                <span class="n">url_service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">service_account_url_backend</span><span class="p">,</span>
                <span class="n">org_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">org_id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># User information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span> <span class="o">=</span> <span class="n">EnolaSenderModel</span><span class="p">(</span>
            <span class="n">app_id</span><span class="o">=</span><span class="n">app_id</span><span class="p">,</span>
            <span class="n">app_name</span><span class="o">=</span><span class="n">app_name</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">user_name</span><span class="o">=</span><span class="n">user_name</span><span class="p">,</span>
            <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span>
            <span class="n">session_name</span><span class="o">=</span><span class="n">session_name</span><span class="p">,</span>
            <span class="n">channel_id</span><span class="o">=</span><span class="n">channel_id</span><span class="p">,</span>
            <span class="n">channel_name</span><span class="o">=</span><span class="n">channel_name</span><span class="p">,</span>
            <span class="n">ip</span><span class="o">=</span><span class="n">ip</span><span class="p">,</span>
            <span class="n">external_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">batch_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">product_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># If is empty or not exist assign false</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_test</span> <span class="o">=</span> <span class="n">is_test</span>

        <span class="c1"># Save steps and information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1">########################################################################################</span>
    <span class="c1">###############    A G E N T   M E T H O D S     #######################################</span>
    <span class="c1">########################################################################################</span>

    <span class="k">def</span> <span class="nf">add_data_received</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">DataType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds data received from the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the data.</span>
<span class="sd">            data: The data content.</span>
<span class="sd">            type (DataType): The type of data received.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">agent_data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">DataListModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">KindType</span><span class="o">.</span><span class="n">RECEIVER</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_data_send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">DataType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds data to send to the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the data.</span>
<span class="sd">            data: The data content.</span>
<span class="sd">            type (DataType): The type of data being sent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">agent_data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">DataListModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">KindType</span><span class="o">.</span><span class="n">SENDER</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_custom_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds custom information to tracking.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): The key for the custom information.</span>
<span class="sd">            value: The value associated with the key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">info_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Info</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">add_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a tag to tracking, this tag is used to search in Enola App.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): The tag key.</span>
<span class="sd">            value: The tag value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_tag</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_extra_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds extra information to tracking, this can be used to test or debug.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): The key for the extra information.</span>
<span class="sd">            value: The value associated with the key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_extra_info</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">ErrOrWarnKind</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers an error to tracking.</span>

<span class="sd">        Args:</span>
<span class="sd">            id (str): The error identifier.</span>
<span class="sd">            message (str): The error message.</span>
<span class="sd">            kind (ErrOrWarnKind): The kind of error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">ErrOrWarnKind</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers a warning to tracking.</span>

<span class="sd">        Args:</span>
<span class="sd">            id (str): The warning identifier.</span>
<span class="sd">            message (str): The warning message.</span>
<span class="sd">            kind (ErrOrWarnKind): The kind of warning.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TrackingResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers the tracking batch in the Enola server.</span>

<span class="sd">        Args:</span>
<span class="sd">            batch_size (int, optional): Number of records to send per batch. Defaults to 200.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[TrackingResponseModel]: List of tracking response models returned by the server.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Create batch</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: sending to server, create Batch... &quot;</span><span class="p">)</span>
            <span class="n">tracking_batch_model</span> <span class="o">=</span> <span class="n">TrackingBatchHeadModel</span><span class="p">(</span>
                <span class="n">enola_sender</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="p">,</span>
                <span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">period</span><span class="p">,</span>
                <span class="n">total_rows</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="p">),</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">is_test</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_test</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">tracking_batch</span> <span class="o">=</span> <span class="n">create_tracking_batch_head</span><span class="p">(</span>
                <span class="n">tracking_batch_model</span><span class="o">=</span><span class="n">tracking_batch_model</span><span class="p">,</span>
                <span class="n">connection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span>
                <span class="n">raise_error_if_fail</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">=</span> <span class="n">tracking_batch</span><span class="o">.</span><span class="n">batch_id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span>

        <span class="c1"># Start cycle to send all data</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: sending to server, upload... &quot;</span><span class="p">)</span>
        <span class="c1"># Show results</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: finish with error, batch_id is empty&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="n">totalRows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="p">)</span>
        <span class="n">listToSend</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TrackingModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">resultsList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TrackingResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Iterate over the dataframe</span>
        <span class="n">count_rows</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>

            <span class="c1"># Create step</span>
            <span class="n">step</span> <span class="o">=</span> <span class="n">Step</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;Prediction&quot;</span><span class="p">,</span>
                <span class="n">message_input</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># Add data to step in extra info</span>
            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="n">step</span><span class="o">.</span><span class="n">add_extra_info</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="n">column</span><span class="p">])</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="n">step</span><span class="o">.</span><span class="n">score_cluster</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="p">]</span>
                <span class="n">step</span><span class="o">.</span><span class="n">date_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
                <span class="n">step</span><span class="o">.</span><span class="n">date_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_cluster_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_cluster_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="n">step</span><span class="o">.</span><span class="n">score_group</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="p">]</span>
                <span class="n">step</span><span class="o">.</span><span class="n">date_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
                <span class="n">step</span><span class="o">.</span><span class="n">date_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_group_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_group_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="n">step</span><span class="o">.</span><span class="n">score_value</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="p">]</span>
                <span class="n">step</span><span class="o">.</span><span class="n">date_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
                <span class="n">step</span><span class="o">.</span><span class="n">date_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_value_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_value_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column client_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column client_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="n">step</span><span class="o">.</span><span class="n">product_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column product_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column product_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">channel_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">channel_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">session_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">session_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">user_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">app_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">app_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">ip</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column ip_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column ip_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">external_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="p">]</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column external_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column external_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
                <span class="p">)</span>

            <span class="n">step</span><span class="o">.</span><span class="n">step_type</span> <span class="o">=</span> <span class="n">StepType</span><span class="o">.</span><span class="n">SCORE</span>
            <span class="n">step</span><span class="o">.</span><span class="n">successfull</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">step</span><span class="o">.</span><span class="n">set_score</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">score_value</span><span class="p">,</span>
                <span class="n">group</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">score_group</span><span class="p">,</span>
                <span class="n">cluster</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">score_cluster</span><span class="p">,</span>
                <span class="n">date</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">date_start</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># Create tracking model</span>
            <span class="n">tracking_model</span> <span class="o">=</span> <span class="n">TrackingModel</span><span class="p">(</span>
                <span class="n">isTest</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_test</span><span class="p">,</span>
                <span class="n">enola_sender</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="p">,</span>
                <span class="n">enola_id_prev</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="n">steps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">step_list</span><span class="o">=</span><span class="p">[</span><span class="n">step</span><span class="p">],</span>
            <span class="p">)</span>

            <span class="c1"># Add to list</span>
            <span class="n">listToSend</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracking_model</span><span class="p">)</span>

            <span class="c1"># Send in batches</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">listToSend</span><span class="p">)</span> <span class="o">==</span> <span class="n">batch_size</span> <span class="ow">or</span> <span class="n">count_rows</span> <span class="o">==</span> <span class="n">totalRows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># Send to Enola</span>
                <span class="n">tracking_batch</span> <span class="o">=</span> <span class="n">create_tracking</span><span class="p">(</span>
                    <span class="n">tracking_list_model</span><span class="o">=</span><span class="n">listToSend</span><span class="p">,</span>
                    <span class="n">connection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span>
                    <span class="n">raise_error_if_fail</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">tracking_batch</span><span class="o">.</span><span class="n">successfull</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: finish with error, batch_id is empty&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="p">[]</span>

                <span class="n">resultsList</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tracking_batch</span><span class="o">.</span><span class="n">tracking_list</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_info</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> sent </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">resultsList</span><span class="p">)</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">totalRows</span><span class="si">}</span><span class="s2">...&quot;</span>
                <span class="p">)</span>

                <span class="c1"># Clean and continue</span>
                <span class="n">listToSend</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">count_rows</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_info</span><span class="p">(</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> finish OK with batch_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">resultsList</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Agent/Model: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">dataframe</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">client_id_column_name</span><span class="p">,</span> <span class="n">product_id_column_name</span><span class="p">,</span> <span class="n">score_value_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">score_group_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">score_cluster_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">channel_id_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">channel_name_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session_id_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session_name_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_id_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_name_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">app_id_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">app_name_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ip_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">external_id_column_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">app_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">app_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">session_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">channel_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">channel_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_test</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes a new instance of the TrackingBatch class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>JWT token used to identify the agent. Request this from the Admin App.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of this execution.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dataframe</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pandas DataFrame containing the data to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>period</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Period of this execution in ISO format (e.g., '2021-01-01T00:00:00Z').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>client_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with client ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>product_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with product ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>score_value_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with score value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>score_group_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with score group.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>score_cluster_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with score cluster.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>channel_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with channel ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>channel_name_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with channel name.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>session_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with session ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>session_name_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with session name.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>user_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with user ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>user_name_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with user name.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>app_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with app ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>app_name_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with app name.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ip_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with IP address.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>external_id_column_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column with external ID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>app_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ID of the app making the call.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>app_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the app making the call.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>user_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ID of the external user.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>user_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the external user.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>session_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ID of the user or application session.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>session_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the session.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>channel_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ID of the communication channel (e.g., 'web', 'chat', 'whatsapp').</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>channel_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the communication channel.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ip</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>IP address of the user or application.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>is_test</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if this call is for testing purposes.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dataframe</span><span class="p">,</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">client_id_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">product_id_column_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">score_value_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">score_group_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">score_cluster_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">channel_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">channel_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">app_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">app_name_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ip_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">external_id_column_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">app_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">app_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">user_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">session_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">session_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">channel_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">channel_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">ip</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_test</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes a new instance of the TrackingBatch class.</span>

<span class="sd">    Args:</span>
<span class="sd">        token (str): JWT token used to identify the agent. Request this from the Admin App.</span>
<span class="sd">        name (str): Name of this execution.</span>
<span class="sd">        dataframe: Pandas DataFrame containing the data to track.</span>
<span class="sd">        period (str): Period of this execution in ISO format (e.g., &#39;2021-01-01T00:00:00Z&#39;).</span>
<span class="sd">        client_id_column_name (str): Name of the column with client ID.</span>
<span class="sd">        product_id_column_name (str): Name of the column with product ID.</span>
<span class="sd">        score_value_column_name (str, optional): Name of the column with score value.</span>
<span class="sd">        score_group_column_name (str, optional): Name of the column with score group.</span>
<span class="sd">        score_cluster_column_name (str, optional): Name of the column with score cluster.</span>
<span class="sd">        channel_id_column_name (str, optional): Name of the column with channel ID.</span>
<span class="sd">        channel_name_column_name (str, optional): Name of the column with channel name.</span>
<span class="sd">        session_id_column_name (str, optional): Name of the column with session ID.</span>
<span class="sd">        session_name_column_name (str, optional): Name of the column with session name.</span>
<span class="sd">        user_id_column_name (str, optional): Name of the column with user ID.</span>
<span class="sd">        user_name_column_name (str, optional): Name of the column with user name.</span>
<span class="sd">        app_id_column_name (str, optional): Name of the column with app ID.</span>
<span class="sd">        app_name_column_name (str, optional): Name of the column with app name.</span>
<span class="sd">        ip_column_name (str, optional): Name of the column with IP address.</span>
<span class="sd">        external_id_column_name (str, optional): Name of the column with external ID.</span>
<span class="sd">        app_id (str, optional): ID of the app making the call.</span>
<span class="sd">        app_name (str, optional): Name of the app making the call.</span>
<span class="sd">        user_id (str, optional): ID of the external user.</span>
<span class="sd">        user_name (str, optional): Name of the external user.</span>
<span class="sd">        session_id (str, optional): ID of the user or application session.</span>
<span class="sd">        session_name (str, optional): Name of the session.</span>
<span class="sd">        channel_id (str, optional): ID of the communication channel (e.g., &#39;web&#39;, &#39;chat&#39;, &#39;whatsapp&#39;).</span>
<span class="sd">        channel_name (str, optional): Name of the communication channel.</span>
<span class="sd">        ip (str, optional): IP address of the user or application.</span>
<span class="sd">        is_test (bool, optional): True if this call is for testing purposes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hf</span> <span class="o">=</span> <span class="n">HuemulFunctions</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">dataframe</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span> <span class="o">=</span> <span class="n">client_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span> <span class="o">=</span> <span class="n">product_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span> <span class="o">=</span> <span class="n">score_value_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span> <span class="o">=</span> <span class="n">score_group_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span> <span class="o">=</span> <span class="n">score_cluster_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span> <span class="o">=</span> <span class="n">channel_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span> <span class="o">=</span> <span class="n">channel_name_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span> <span class="o">=</span> <span class="n">session_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span> <span class="o">=</span> <span class="n">session_name_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span> <span class="o">=</span> <span class="n">user_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span> <span class="o">=</span> <span class="n">user_name_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span> <span class="o">=</span> <span class="n">app_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span> <span class="o">=</span> <span class="n">app_name_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span> <span class="o">=</span> <span class="n">ip_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span> <span class="o">=</span> <span class="n">external_id_column_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">period</span> <span class="o">=</span> <span class="n">period</span>

    <span class="k">if</span> <span class="n">dataframe</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;DataFrame is empty&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataframe</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;DataFrame is empty (length is 0)&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">score_value_column_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">score_group_column_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">score_cluster_column_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;At least one of &#39;score_value_column_name&#39;, &#39;score_group_column_name&#39;, or &#39;score_cluster_column_name&#39; must be provided&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">period</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">period</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Period is empty&quot;</span><span class="p">)</span>

    <span class="c1"># Decode JWT token</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span> <span class="o">=</span> <span class="n">TokenInfo</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">is_service_account</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;This token is not a service account. Only service accounts can execute tracking&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">agent_deploy_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;agentDeployId is empty.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">service_account_can_tracking</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;This service account can&#39;t execute tracking&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">agent_deploy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">agent_deploy_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="n">Connect</span><span class="p">(</span>
        <span class="n">AuthModel</span><span class="p">(</span>
            <span class="n">jwt_token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span>
            <span class="n">url_service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">service_account_url_backend</span><span class="p">,</span>
            <span class="n">org_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_info</span><span class="o">.</span><span class="n">org_id</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># User information</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span> <span class="o">=</span> <span class="n">EnolaSenderModel</span><span class="p">(</span>
        <span class="n">app_id</span><span class="o">=</span><span class="n">app_id</span><span class="p">,</span>
        <span class="n">app_name</span><span class="o">=</span><span class="n">app_name</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">user_name</span><span class="o">=</span><span class="n">user_name</span><span class="p">,</span>
        <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span>
        <span class="n">session_name</span><span class="o">=</span><span class="n">session_name</span><span class="p">,</span>
        <span class="n">channel_id</span><span class="o">=</span><span class="n">channel_id</span><span class="p">,</span>
        <span class="n">channel_name</span><span class="o">=</span><span class="n">channel_name</span><span class="p">,</span>
        <span class="n">ip</span><span class="o">=</span><span class="n">ip</span><span class="p">,</span>
        <span class="n">external_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">batch_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">product_id</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># If is empty or not exist assign false</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_test</span> <span class="o">=</span> <span class="n">is_test</span>

    <span class="c1"># Save steps and information</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_custom_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_custom_info</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds custom information to tracking.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>key</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The key for the custom information.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value associated with the key.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_custom_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds custom information to tracking.</span>

<span class="sd">    Args:</span>
<span class="sd">        key (str): The key for the custom information.</span>
<span class="sd">        value: The value associated with the key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">info_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Info</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_data_received" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_data_received</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds data received from the user.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>type</code></td>
            <td>
                  <code><span title="enola.enola_types.DataType">DataType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of data received.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_data_received</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">DataType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds data received from the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the data.</span>
<span class="sd">        data: The data content.</span>
<span class="sd">        type (DataType): The type of data received.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">agent_data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">DataListModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">KindType</span><span class="o">.</span><span class="n">RECEIVER</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_data_send" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_data_send</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds data to send to the user.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>type</code></td>
            <td>
                  <code><span title="enola.enola_types.DataType">DataType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of data being sent.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_data_send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">DataType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds data to send to the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the data.</span>
<span class="sd">        data: The data content.</span>
<span class="sd">        type (DataType): The type of data being sent.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">agent_data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">DataListModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">KindType</span><span class="o">.</span><span class="n">SENDER</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_error" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_error</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Registers an error to tracking.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The error identifier.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The error message.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kind</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="enola.enola_types.ErrOrWarnKind" href="../enola_types/#enola.enola_types.ErrOrWarnKind">ErrOrWarnKind</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The kind of error.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">ErrOrWarnKind</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Registers an error to tracking.</span>

<span class="sd">    Args:</span>
<span class="sd">        id (str): The error identifier.</span>
<span class="sd">        message (str): The error message.</span>
<span class="sd">        kind (ErrOrWarnKind): The kind of error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_extra_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_extra_info</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds extra information to tracking, this can be used to test or debug.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>key</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The key for the extra information.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value associated with the key.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_extra_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds extra information to tracking, this can be used to test or debug.</span>

<span class="sd">    Args:</span>
<span class="sd">        key (str): The key for the extra information.</span>
<span class="sd">        value: The value associated with the key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_extra_info</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_tag" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_tag</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds a tag to tracking, this tag is used to search in Enola App.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>key</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tag key.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tag value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a tag to tracking, this tag is used to search in Enola App.</span>

<span class="sd">    Args:</span>
<span class="sd">        key (str): The tag key.</span>
<span class="sd">        value: The tag value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_tag</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.add_warning" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_warning</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">kind</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Registers a warning to tracking.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The warning identifier.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>message</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The warning message.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kind</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="enola.enola_types.ErrOrWarnKind" href="../enola_types/#enola.enola_types.ErrOrWarnKind">ErrOrWarnKind</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The kind of warning.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">ErrOrWarnKind</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Registers a warning to tracking.</span>

<span class="sd">    Args:</span>
<span class="sd">        id (str): The warning identifier.</span>
<span class="sd">        message (str): The warning message.</span>
<span class="sd">        kind (ErrOrWarnKind): The kind of warning.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">first_step</span><span class="o">.</span><span class="n">add_warning</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="enola.tracking_batch.TrackingBatch.execute" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execute</span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Registers the tracking batch in the Enola server.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>batch_size</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of records to send per batch. Defaults to 200.</p>
              </div>
            </td>
            <td>
                  <code>200</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="enola.enola_types.TrackingResponseModel" href="../enola_types/#enola.enola_types.TrackingResponseModel">TrackingResponseModel</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[TrackingResponseModel]: List of tracking response models returned by the server.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src\enola\tracking_batch.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TrackingResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Registers the tracking batch in the Enola server.</span>

<span class="sd">    Args:</span>
<span class="sd">        batch_size (int, optional): Number of records to send per batch. Defaults to 200.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[TrackingResponseModel]: List of tracking response models returned by the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Create batch</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: sending to server, create Batch... &quot;</span><span class="p">)</span>
        <span class="n">tracking_batch_model</span> <span class="o">=</span> <span class="n">TrackingBatchHeadModel</span><span class="p">(</span>
            <span class="n">enola_sender</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="p">,</span>
            <span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">period</span><span class="p">,</span>
            <span class="n">total_rows</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">is_test</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_test</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">tracking_batch</span> <span class="o">=</span> <span class="n">create_tracking_batch_head</span><span class="p">(</span>
            <span class="n">tracking_batch_model</span><span class="o">=</span><span class="n">tracking_batch_model</span><span class="p">,</span>
            <span class="n">connection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span>
            <span class="n">raise_error_if_fail</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">=</span> <span class="n">tracking_batch</span><span class="o">.</span><span class="n">batch_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span>

    <span class="c1"># Start cycle to send all data</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: sending to server, upload... &quot;</span><span class="p">)</span>
    <span class="c1"># Show results</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: finish with error, batch_id is empty&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">totalRows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="p">)</span>
    <span class="n">listToSend</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TrackingModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">resultsList</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TrackingResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Iterate over the dataframe</span>
    <span class="n">count_rows</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>

        <span class="c1"># Create step</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">Step</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;Prediction&quot;</span><span class="p">,</span>
            <span class="n">message_input</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Add data to step in extra info</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">step</span><span class="o">.</span><span class="n">add_extra_info</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="n">column</span><span class="p">])</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="n">step</span><span class="o">.</span><span class="n">score_cluster</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="p">]</span>
            <span class="n">step</span><span class="o">.</span><span class="n">date_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
            <span class="n">step</span><span class="o">.</span><span class="n">date_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_cluster_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_cluster_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_cluster_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="n">step</span><span class="o">.</span><span class="n">score_group</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="p">]</span>
            <span class="n">step</span><span class="o">.</span><span class="n">date_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
            <span class="n">step</span><span class="o">.</span><span class="n">date_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_group_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_group_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_group_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="n">step</span><span class="o">.</span><span class="n">score_value</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="p">]</span>
            <span class="n">step</span><span class="o">.</span><span class="n">date_start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
            <span class="n">step</span><span class="o">.</span><span class="n">date_end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_value_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column score_value_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">score_value_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column client_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column client_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="n">step</span><span class="o">.</span><span class="n">product_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column product_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column product_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">product_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">channel_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">channel_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column channel_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">channel_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">session_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">session_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column session_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">session_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">user_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column user_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">app_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">app_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column app_name_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">app_name_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">ip</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column ip_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column ip_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ip_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="o">.</span><span class="n">external_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_error</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column external_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: column external_id_column_name &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">external_id_column_name</span><span class="si">}</span><span class="s2">&#39; not found in dataframe&quot;</span>
            <span class="p">)</span>

        <span class="n">step</span><span class="o">.</span><span class="n">step_type</span> <span class="o">=</span> <span class="n">StepType</span><span class="o">.</span><span class="n">SCORE</span>
        <span class="n">step</span><span class="o">.</span><span class="n">successfull</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">step</span><span class="o">.</span><span class="n">set_score</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">score_value</span><span class="p">,</span>
            <span class="n">group</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">score_group</span><span class="p">,</span>
            <span class="n">cluster</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">score_cluster</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">date_start</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Create tracking model</span>
        <span class="n">tracking_model</span> <span class="o">=</span> <span class="n">TrackingModel</span><span class="p">(</span>
            <span class="n">isTest</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_test</span><span class="p">,</span>
            <span class="n">enola_sender</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enola_sender</span><span class="p">,</span>
            <span class="n">enola_id_prev</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">steps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">step_list</span><span class="o">=</span><span class="p">[</span><span class="n">step</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="c1"># Add to list</span>
        <span class="n">listToSend</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tracking_model</span><span class="p">)</span>

        <span class="c1"># Send in batches</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">listToSend</span><span class="p">)</span> <span class="o">==</span> <span class="n">batch_size</span> <span class="ow">or</span> <span class="n">count_rows</span> <span class="o">==</span> <span class="n">totalRows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># Send to Enola</span>
            <span class="n">tracking_batch</span> <span class="o">=</span> <span class="n">create_tracking</span><span class="p">(</span>
                <span class="n">tracking_list_model</span><span class="o">=</span><span class="n">listToSend</span><span class="p">,</span>
                <span class="n">connection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="p">,</span>
                <span class="n">raise_error_if_fail</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">tracking_batch</span><span class="o">.</span><span class="n">successfull</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: finish with error, batch_id is empty&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[]</span>

            <span class="n">resultsList</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">tracking_batch</span><span class="o">.</span><span class="n">tracking_list</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_info</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> sent </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">resultsList</span><span class="p">)</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">totalRows</span><span class="si">}</span><span class="s2">...&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Clean and continue</span>
            <span class="n">listToSend</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">count_rows</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">huemul_logging</span><span class="o">.</span><span class="n">log_message_info</span><span class="p">(</span>
        <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> finish OK with batch_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">resultsList</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>